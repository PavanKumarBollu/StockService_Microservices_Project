spring.application.name=04-Stock-API-Stock-API-Gateway

server.port=3333

# Define the first route (Index 0)
# A unique and descriptive ID for the route
spring.cloud.gateway.routes[0].id=stock_service_route 

# Set the target URI
# Option 1: Using Service Discovery (Recommended for microservices)
# Uses the service name to find instances via your discovery server (e.g., Eureka)
spring.cloud.gateway.routes[0].uri=lb://02-Stock-API-Stock-Service

# Option 2: Direct URI (If not using service discovery)
# spring.cloud.gateway.routes[0].uri=http://localhost:1111/ # Use the direct address

# Predicate: Match incoming requests based on path
# This matches requests starting with /api/stock/
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/stock/**

# Filter: Modify the path before forwarding to the target service
# This removes the /api/stock/ prefix from the path sent to the backend service
# Example: /api/stock/details -> /details sent to http://localhost:1111/details
spring.cloud.gateway.routes[0].filters[0]=RewritePath=/api/stock/(?<remaining>.*), /${remaining}